<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>·¥Ä…¥·¥ú·¥° ú ·¥ç·¥Ö ·¥ç…™…¥…™ ·¥†2  ô·¥á·¥õ·¥Ä</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
      20%, 40%, 60%, 80% { transform: translateX(2px); }
    }
    
    @keyframes twinkle {
      0% { opacity: 0.2; transform: scale(0.8); }
      50% { opacity: 1; transform: scale(1.1); }
      100% { opacity: 0.2; transform: scale(0.8); }
    }
    
    .neon-text {
      text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #13141429, 0 0 20px #0073e6, 0 0 25px #0073e6;
    }
    
    .neon-border {
      box-shadow: 0 0 5px #150000, 0 0 10px #fff, 0 0 15px #0d0d0d29, 0 0 20px #0073e6;
    }
    
    .neon-button {
      box-shadow: 0 0 5px #fff, 0 0 10px #08605d, 0 0 15px #ff00de, 0 0 20px #ff00de;
    }
    
    .neon-button:hover {
      box-shadow: 0 0 5px #fff, 0 0 10px #3b3939, 0 0 15px #ff00de, 0 0 20px #382b36, 0 0 25px #ff00de;
    }
    
    .shake-animation {
      animation: shake 0.5s;
    }
    
    .star {
      position: absolute;
      background-color: white;
      border-radius: 50%;
      animation: twinkle 2s infinite;
    }
    
    .gradient-text {
      background: linear-gradient(90deg, #202021, #fc00ff);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center bg-black overflow-hidden">
  <!-- Background stars -->
  <div id="stars-container" class="fixed inset-0 pointer-events-none"></div>
  
  <!-- Main container -->
  <div class="container mx-auto px-4 relative z-10">
    <div class="main">
      <div class="box max-w-md mx-auto p-8 bg-black bg-opacity-70 rounded-3xl backdrop-blur-lg border border-white border-opacity-20 shadow-xl neon-border relative overflow-hidden">
        <!-- Glowing effect behind the box -->
        <div class="absolute -inset-1 bg-blue-500 rounded-3xl opacity-20 blur-lg"></div>
        
        <div id="text" class="relative z-10">
          <!-- Glowing user icon -->
          <div class="flex justify-center mb-6">
            <i class="fas fa-user text-5xl gradient-text animate-pulse"></i>
          </div>
          
          <h3 class="text-2xl font-bold text-center mb-4 gradient-text neon-text"> ü…™…¥·¥ã ·¥°…™·¥õ ú  è·¥è·¥ú Ä ·¥ò ú·¥è…¥·¥á …¥·¥ú·¥ç ô·¥á Ä</h3>
          <h4 class="text-blue-300 text-center mb-6 font-medium">·¥Ä…¥·¥ú·¥° ú ·¥ç·¥Ö ·¥ç…™…¥…™ ·¥†1  ô·¥á·¥õ·¥Ä</h4>
          
          <div class="relative flex items-center justify-center mb-8">
            <div class="flex-grow border-t border-white border-opacity-20"></div>
            <span class="mx-4 text-white text-opacity-40 text-sm tracking-wider">Íú±·¥á·¥Ñ·¥ú Ä·¥á·¥Ö ·¥Ñ·¥è…¥…¥·¥á·¥Ñ·¥õ…™·¥è…¥</span>
            <div class="flex-grow border-t border-white border-opacity-20"></div>
          </div>
          
          <div class="input-container flex bg-white bg-opacity-10 rounded-xl p-1 gap-1 mb-6 transition-all duration-300 border border-white border-opacity-20 focus-within:border-opacity-40 focus-within:ring-2 focus-within:ring-purple-500 focus-within:ring-opacity-50">
            <input 
              class="flex-1 px-4 py-3 bg-transparent border-none rounded-lg text-white placeholder-white placeholder-opacity-40 font-light focus:outline-none focus:bg-white focus:bg-opacity-10" 
              placeholder="+94xxxxxxxxx" 
              type="number" 
              id="number"
            >
            <button 
              id="submit" 
              class="px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-500 border-none rounded-lg text-white font-semibold uppercase tracking-wider cursor-pointer transition-all duration-300 hover:from-blue-500 hover:to-purple-600 hover:translate-y-[-2px] neon-button"
            >
              Íú±·¥ú ô·¥ç…™·¥õ
            </button>
          </div>
          
          <div id="waiting-message" class="text-center gradient-text text-xl hidden">·¥ò Ä·¥è·¥Ñ·¥áss…™…¥…¢ ·¥Ñ·¥è·¥Ö·¥á...</div>
          <main id="pair" class="text-center"></main>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js"></script>
  <script>
    // ‚≠ê Create stars background
    function createStars() {
      const container = document.getElementById('stars-container');
      const starCount = 50;
      
      for (let i = 0; i < starCount; i++) {
        const star = document.createElement('div');
        star.classList.add('star');
        
        const size = Math.random() * 2 + 1;
        star.style.width = `${size}px`;
        star.style.height = `${size}px`;
        
        star.style.left = `${Math.random() * 100}%`;
        star.style.top = `${Math.random() * 100}%`;
        
        star.style.animationDelay = `${Math.random() * 5}s`;
        
        container.appendChild(star);
      }
    }
    createStars();
    
    // DOM elements
    let a = document.getElementById("pair");
    let b = document.getElementById("submit");
    let c = document.getElementById("number");
    let box = document.querySelector(".box");

    // üìã Copy function (from main.html)
    async function Copy() {
      let text = document.getElementById("copy").innerText;
      let obj = document.getElementById("copy");
      await navigator.clipboard.writeText(obj.innerText.replace('CODE: ', ''));
      obj.innerText = "·¥Ñ·¥è·¥ò…™·¥á·¥Ö ‚úÖ";
      obj.classList.add('bg-green-500', 'bg-opacity-20', 'border-green-500');
      obj.classList.remove('bg-opacity-10', 'border-opacity-20');
      
      setTimeout(() => {
        obj.innerText = text;
        obj.classList.remove('bg-green-500', 'bg-opacity-20', 'border-green-500');
        obj.classList.add('bg-opacity-10', 'border-opacity-20');
      }, 1500);
    }

    // ‚úÖ Submit event with API request logic (from main.html)
    b.addEventListener("click", async (e) => {
      e.preventDefault();
      
      box.classList.add('shake-animation');
      setTimeout(() => box.classList.remove('shake-animation'), 500);
      
      if (!c.value) {
        a.innerHTML = '<div class="text-red-400 font-bold mt-4 animate-pulse">‚ùó ·¥á…¥·¥õ·¥á Ä  è·¥è·¥ú Ä ·¥° ú·¥Ä·¥õÍú±·¥Ä·¥ò·¥ò …¥·¥ú·¥ç ô·¥á Ä ·¥°…™·¥õ ú ·¥Ñ·¥è·¥ú…¥·¥õ Ä è ·¥Ñ·¥è·¥Ö·¥á.</div>';
      } else if (c.value.replace(/[^0-9]/g, "").length < 11) {
        a.innerHTML = '<div class="text-red-400 font-bold mt-4 animate-pulse">‚ùå …™…¥·¥†·¥Ä ü…™·¥Ö …¥·¥ú·¥ç ô·¥á Ä Íú∞·¥è Ä·¥ç·¥Ä·¥õ ‚ùå</div>';
      } else {
        const bc = c.value.replace(/[^0-9]/g, "");
        c.type = "text";
        c.value = "+" + bc;
        c.classList.add('text-white', 'text-lg');
        
        a.innerHTML = '<div class="text-blue-300 font-bold mt-4 animate-pulse">·¥ò ü·¥á·¥ÄÍú±·¥á ·¥°·¥Ä…™·¥õ ·¥° ú…™ ü·¥á ·¥°·¥á ·¥ò Ä·¥è·¥Ñ·¥áÍú±Íú±  è·¥è·¥ú Ä  Ä·¥áQ·¥ú·¥áÍú±·¥õ...</div>';
        
        try {
          let { data } = await axios(`/code?number=${bc}`);
          let code = data.code || "Íú±·¥á Ä·¥†…™·¥Ñ·¥á ·¥ú…¥·¥Ä·¥†·¥Ä…™ ü·¥Ä ô ü·¥á";
          a.innerHTML = `
            <div id="copy" onclick="Copy()" class="inline-block mt-6 px-6 py-3 bg-white bg-opacity-10 rounded-xl border border-white border-opacity-20 cursor-pointer transition-all hover:bg-opacity-20">
              <span class="font-bold text-white">CODE: </span>
              <span class="font-extrabold text-white text-xl">${code}</span>
            </div>
            <div class="text-white text-opacity-60 text-sm mt-2">Click to copy</div>
          `;
        } catch (error) {
          a.innerHTML = '<div class="text-red-400 font-bold mt-4 animate-pulse">‚ùå ·¥á Ä Ä·¥è Ä Íú∞·¥á·¥õ·¥Ñ ú…™…¥…¢ ·¥Ñ·¥è·¥Ö·¥á. ·¥ò ü·¥á·¥ÄÍú±·¥á ·¥õ Ä è ·¥Ä…¢·¥Ä…™…¥ ‚ùå</div>';
        }
      }
    });
  </script>
</body>
</html>
